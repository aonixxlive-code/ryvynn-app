<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RYVYNN Plus Subscription</title>
    <script src="https://js.stripe.com/v3/"></script>
  </head>
  <body>
    <h1>RYVYNN Plus</h1>
    <p>Subscribe to unlock all features.</p>
    <button id="subscribe-btn">Start RYVYNN Plus</button>
    <script>
      const stripe = Stripe('%NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY%');
      document.getElementById('subscribe-btn').addEventListener('click', async () => {
        const res = await fetch('/api/create-subscription', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ priceId: '%NEXT_PUBLIC_STRIPE_PRICE%' })
        });
        const data = await res.json();
        if (data.id) {
          await stripe.redirectToCheckout({ sessionId: data.id });
        } else {
          alert('Error creating checkout session.');
        }
      });
    </script>
  </body>
</html>
